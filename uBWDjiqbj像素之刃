while true do
    local B = game.Workspace:FindFirstChild(game:GetService("Players").LocalPlayer.Name)
	if B then
		print("跳出循环")
		break
	end
	wait()
end
if game.PlaceId == 18172550962 then
    game:GetService("ReplicatedStorage").remotes.playerTP:FireServer("Grasslands","Nightmare",true)
end
if game.PlaceId == 18172553902 then
    wait(8)
    local m = 1
    for _, EnemiesName in ipairs(game:GetService("ReplicatedStorage").Enemies:GetChildren()) do
        for _, workspaceEnemy in ipairs(workspace:GetChildren()) do
            if workspaceEnemy.Name == EnemiesName.Name then
                workspaceEnemy:GetAttributeChangedSignal("hadEntrance"):Connect(function()
                    if workspaceEnemy:GetAttribute("hadEntrance") == true then
                        game:GetService("ReplicatedStorage").remotes.abilityHit:FireServer(table.unpack({
                            workspaceEnemy.Humanoid,
                            math.huge,
                            {
                                stun = {
                                    dur = 0.001
                                }
                            }
                        }))
                    end
                end)
            end
        end
    end
    for _, child in ipairs(workspace:GetChildren()) do
        if child:IsA("Model") and child.Name == tostring(m) then
            local HumanoidRootPart = game:GetService("Players").LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if HumanoidRootPart then
                HumanoidRootPart.CFrame = CFrame.new(child.WorldPivot.Position + Vector3.new(0,10,0))
                m = m + 1
            end
        end
    end
    workspace.ChildAdded:Connect(function(child)
        for _, EnemiesName in ipairs(game:GetService("ReplicatedStorage").Enemies:GetChildren()) do
            if child.Name == EnemiesName.Name then
                local HumanoidRootPart = child:FindFirstChild("HumanoidRootPart")
                if HumanoidRootPart then
                    HumanoidRootPart.Anchored = true
                end
                child:GetAttributeChangedSignal("hadEntrance"):Connect(function()
                    if child:GetAttribute("hadEntrance") == true then
                        game:GetService("ReplicatedStorage").remotes.abilityHit:FireServer(table.unpack({
                            child.Humanoid,
                            math.huge,
                            {
                                stun = {
                                    dur = 0.001
                                }
                            }
                        }))
                    end
                end)
            end
        end
    end)
    workspace.ChildAdded:Connect(function(child)
        wait(1)
        if child:IsA("Model") and child.Name == tostring(m) or child.Name == "BossRoom" then
            local HumanoidRootPart = game:GetService("Players").LocalPlayer.Character:FindFirstChild("HumanoidRootPart")
            if HumanoidRootPart then
                HumanoidRootPart.CFrame = CFrame.new(child.WorldPivot.Position + Vector3.new(0,10,0))
                m = m + 1
            end
        end
    end)
end
